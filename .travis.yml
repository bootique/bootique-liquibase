# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

sudo: required

services:
  - docker

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.x) AND type IN (push) AND repo = bootique/bootique-liquibase

# travis encrypt -r bootique/bootique-liquibase "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-liquibase "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "gFDBGh+4UN8jcnvVU4GDRfuSzap9gDsa9o+S1uRCeYkMIC0ZgDMX+kTQE8r3xT5zpa2Qqf55YbYxdtgqkYXxkGOE39jmNsvu7jmpC8Iz62at3Jn3KkkiYbjO3GEIk3tx9HuKZS8xHVITyAYxx6RNVjesWP5T32AqLY0Qx7/UuWSQJbq0l+fVZVXSuKrPuOXQlY9IzgSDJ9LozlFTnVCcQjtcb0tSzDULt71848idDCOJRh/lwrRd6h3JFZDQtZ0Bmebs37PEPGRDCzusgOewCLURx26YQWnVuyRECZm59VRVpDgDeraOixhe3qCb8FJH+xHo7j48hJcIlPTaSH9pSO9mIQ/bOXGNJS9XAv6Tkl0OA8qC3canDoFv/zPXfNB+JS5NB/k+HgEB1JiQIerfyZ8NmYdLgrmnrn7fByOU7WEIEKlWUT8Wf3panoZdXYhFKbBhC06uTMDyrAGIW3WbKPZqzzlNDQFPoRM/omjVv/vl+FgO7zw2mumltFmi2BABL2YUTC9D8cJhfEYTN/rguHRYSRgQlqlFiH6XsvxRoGO1U67blSTLqRcQiLQgr8Zazwu2DIvW6oZYbd7xNlqlto13w7v1OYF36lzhn3Ggx/X6fbI9rtM7dA2H8iCUGXr8sivylLN6FcGqZYG9DemYtJh5ASdxXi8b5kiF05OXfUg="
    - secure: "lgGhAg3lFfcssrkaYgoLMttJXWksOEltuC2TvI35BCBilc/NjhNZ5PQmNMVnT4At1S9/cGTvhxNcJwIMbNR1hULFKS4R+UfrcjHBiLbU0wNaJaZmNYPQhrXqrELTUMhexEcp5w1Y4q0cECXsTk9ecq2uJb9GOP/f8jalLlHuiT5UVSU+6aMybF4slKS5iwu4TUoBvNImrNlaK7RGdPEg4mpgRMAYcLoqyUDtzrTK9/GRJKyBE/8RI0Ye2mBvG7Dp3pHyVTegBLJOitJtSl06lOZ3z4SxGP+winVXMFsa5FqL0Y3uR2YaY9cwMywAJEdwUgNfm7Bs29VXL+lS3XK4TvH2kkymkveVfMuvcHZJUQ/nabiz7bLmXZmbF/NUs1I1M28c+pPx5VikP7IhG/MCIY3fk/zElqyEjSNdv2gVq0wzsMMq0Wi7fAjBpcBUYMOSL/aG2tc20msgG8UaZ6gjH3VVbhMZlB/FUHijXeQvvKRbAXqUMFOV62mKuvQNGNjyxyCLUwdPerLBX4MBtOfyqzGAY64uyQPTUKnmhi2BEGbv+9Tjza8FV9BqCrhCi+eO2HTclqN7dX9rz2ASpGD+jQqiO3sinMGAZRrlKvwFCqnPLlyfg8RVv2faMtqtZBmgwpqWhHXPCOO2bPa6J8jPRUXPd8r9+nbDNvCY8ytsDrk="
